<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stellarator-Tools: magnetic Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="flux_surfaces.png"/></td>
  <td id="projectalign">
   <div id="projectname">Stellarator-Tools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacemagnetic.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">magnetic Module Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Defines the base class of the type <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>.  
<a href="namespacemagnetic.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class representing a magnetic signal.  <a href="structmagnetic_1_1magnetic__class.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ad12fe20441b3ad46cf1781980bad0721" id="r_ad12fe20441b3ad46cf1781980bad0721"><td class="memItemLeft" align="right" valign="top">class(<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>) function, pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#ad12fe20441b3ad46cf1781980bad0721">magnetic_construct_netcdf</a> (mdsig_iou, use_coil_response, force_coil_reponse, use_3d_only, svd_cut_off)</td></tr>
<tr class="memdesc:ad12fe20441b3ad46cf1781980bad0721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object containing a <a class="el" href="structmagnetic__response_1_1magnetic__response__class.html">magnetic_response::magnetic_response_class</a> object.  <br /></td></tr>
<tr class="separator:ad12fe20441b3ad46cf1781980bad0721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8629127f9b0470d1313868c59b6982" id="r_a6c8629127f9b0470d1313868c59b6982"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#a6c8629127f9b0470d1313868c59b6982">magnetic_destruct</a> (this)</td></tr>
<tr class="memdesc:a6c8629127f9b0470d1313868c59b6982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deconstruct a <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object.  <br /></td></tr>
<tr class="separator:a6c8629127f9b0470d1313868c59b6982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa11a4bdaae2647f6546a9f9c331057b" id="r_aaa11a4bdaae2647f6546a9f9c331057b"><td class="memItemLeft" align="right" valign="top">real(rprec) function, dimension(4)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#aaa11a4bdaae2647f6546a9f9c331057b">magnetic_get_modeled_signal</a> (this, a_model, sigma, last_value)</td></tr>
<tr class="memdesc:aaa11a4bdaae2647f6546a9f9c331057b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the modeled signal.  <br /></td></tr>
<tr class="separator:aaa11a4bdaae2647f6546a9f9c331057b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afde045b078bf8c5a3230ecf9b9ccce" id="r_a6afde045b078bf8c5a3230ecf9b9ccce"><td class="memItemLeft" align="right" valign="top">real(rprec) function, dimension(4)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#a6afde045b078bf8c5a3230ecf9b9ccce">magnetic_get_modeled_signal_point</a> (this, a_model, sigma)</td></tr>
<tr class="memdesc:a6afde045b078bf8c5a3230ecf9b9ccce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the point modeled signal.  <br /></td></tr>
<tr class="separator:a6afde045b078bf8c5a3230ecf9b9ccce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf463be6bae38afa96d325a0a0bcae5c" id="r_adf463be6bae38afa96d325a0a0bcae5c"><td class="memItemLeft" align="right" valign="top">real(rprec) function, dimension(4)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#adf463be6bae38afa96d325a0a0bcae5c">magnetic_get_modeled_signal_coil</a> (this, a_model, sigma)</td></tr>
<tr class="memdesc:adf463be6bae38afa96d325a0a0bcae5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the coil modeled signal.  <br /></td></tr>
<tr class="separator:adf463be6bae38afa96d325a0a0bcae5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e2ec298bb1b6eed9875fc7cb944b429" id="r_a7e2ec298bb1b6eed9875fc7cb944b429"><td class="memItemLeft" align="right" valign="top">real(rprec) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#a7e2ec298bb1b6eed9875fc7cb944b429">magnetic_get_modeled_signal_coil_pickup</a> (this, a_model)</td></tr>
<tr class="memdesc:a7e2ec298bb1b6eed9875fc7cb944b429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the model signal contribution from the external coils.  <br /></td></tr>
<tr class="separator:a7e2ec298bb1b6eed9875fc7cb944b429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0292ac383a7c465f2d946c13361f901" id="r_ae0292ac383a7c465f2d946c13361f901"><td class="memItemLeft" align="right" valign="top">character(len=<a class="el" href="namespacedata__parameters.html#a5af930b6b7d6148f98708d2b522eba76">data_name_length</a>) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#ae0292ac383a7c465f2d946c13361f901">magnetic_get_type</a> (this)</td></tr>
<tr class="memdesc:ae0292ac383a7c465f2d946c13361f901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a discription of the magnetic type.  <br /></td></tr>
<tr class="separator:ae0292ac383a7c465f2d946c13361f901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0d1596b2e0e5e2f7b0cf38cd6b8542" id="r_a1f0d1596b2e0e5e2f7b0cf38cd6b8542"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemagnetic.html#a1f0d1596b2e0e5e2f7b0cf38cd6b8542">magnetic_get_header</a> (this, header)</td></tr>
<tr class="memdesc:a1f0d1596b2e0e5e2f7b0cf38cd6b8542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a discription of the model and model sigma array indices.  <br /></td></tr>
<tr class="separator:a1f0d1596b2e0e5e2f7b0cf38cd6b8542"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ace6b713a5da512973c7d28889243f67b" id="r_ace6b713a5da512973c7d28889243f67b"><td class="memItemLeft" align="right" valign="top"><a id="ace6b713a5da512973c7d28889243f67b" name="ace6b713a5da512973c7d28889243f67b"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>magnetic_force_coil_flag</b> = 1</td></tr>
<tr class="memdesc:ace6b713a5da512973c7d28889243f67b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit position for the use coil response flag. <br /></td></tr>
<tr class="separator:ace6b713a5da512973c7d28889243f67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1c16a75fd75d819b1389704cc0a406" id="r_abe1c16a75fd75d819b1389704cc0a406"><td class="memItemLeft" align="right" valign="top"><a id="abe1c16a75fd75d819b1389704cc0a406" name="abe1c16a75fd75d819b1389704cc0a406"></a>
integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><b>magnetic_3d_flag</b> = 2</td></tr>
<tr class="memdesc:abe1c16a75fd75d819b1389704cc0a406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit position for the force coil response flag. <br /></td></tr>
<tr class="separator:abe1c16a75fd75d819b1389704cc0a406"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the base class of the type <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>. </p>
<dl class="section user"><dt>Super Class:</dt><dd>diagnostic </dd></dl>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ad12fe20441b3ad46cf1781980bad0721" name="ad12fe20441b3ad46cf1781980bad0721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12fe20441b3ad46cf1781980bad0721">&#9670;&#160;</a></span>magnetic_construct_netcdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">class (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>) function, pointer magnetic::magnetic_construct_netcdf </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>mdsig_iou</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>use_coil_response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>force_coil_reponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>use_3d_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (rprec), intent(in)&#160;</td>
          <td class="paramname"><em>svd_cut_off</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object containing a <a class="el" href="structmagnetic__response_1_1magnetic__response__class.html">magnetic_response::magnetic_response_class</a> object. </p>
<p>Allocates memory and initializes a <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mdsig_iou</td><td>An instance of a the netcdf id of the open mdsig file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">use_coil_response</td><td>Toggle if the total signal contains the induced signal in addition to the plasma only signal. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">force_coil_reponse</td><td>Force the coil response to be computed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">use_3D_only</td><td>Subtract of the axisymmtric porition of the signal. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">svd_cut_off</td><td>Cutoff value for the number of singular values to retain when compressing the response function arrays. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a constructed <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object. </dd></dl>

</div>
</div>
<a id="a6c8629127f9b0470d1313868c59b6982" name="a6c8629127f9b0470d1313868c59b6982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c8629127f9b0470d1313868c59b6982">&#9670;&#160;</a></span>magnetic_destruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine magnetic::magnetic_destruct </td>
          <td>(</td>
          <td class="paramtype">type (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deconstruct a <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object. </p>
<p>Deallocates memory and uninitializes a <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>A <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f0d1596b2e0e5e2f7b0cf38cd6b8542" name="a1f0d1596b2e0e5e2f7b0cf38cd6b8542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0d1596b2e0e5e2f7b0cf38cd6b8542">&#9670;&#160;</a></span>magnetic_get_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine magnetic::magnetic_get_header </td>
          <td>(</td>
          <td class="paramtype">class (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character (len=<a class="el" href="namespacedata__parameters.html#a5af930b6b7d6148f98708d2b522eba76">data_name_length</a>), dimension(7), intent(inout)&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a discription of the model and model sigma array indices. </p>
<p>Returns a description of the array indices for use when writting output files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>A <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> instance. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">header</td><td>Buffer arrays to write header strings to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string describing the model and model sigma array indices. </dd></dl>

</div>
</div>
<a id="aaa11a4bdaae2647f6546a9f9c331057b" name="aaa11a4bdaae2647f6546a9f9c331057b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa11a4bdaae2647f6546a9f9c331057b">&#9670;&#160;</a></span>magnetic_get_modeled_signal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real (rprec) function, dimension(4) magnetic::magnetic_get_modeled_signal </td>
          <td>(</td>
          <td class="paramtype">class (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class (<a class="el" href="structmodel_1_1model__class.html">model_class</a>), pointer&#160;</td>
          <td class="paramname"><em>a_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (rprec), dimension(4), intent(out)&#160;</td>
          <td class="paramname"><em>sigma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (rprec), dimension(4), intent(in)&#160;</td>
          <td class="paramname"><em>last_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the modeled signal. </p>
<p>The modeled signal can be computed in one of two ways. Modeled as a full coil or as a point measurement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>A <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a_model</td><td>A <a class="el" href="namespacemodel.html">model</a> instance. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sigma</td><td>The modeled sigma. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">last_value</td><td>Last good value in case the signal did not change. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The model value. </dd></dl>

</div>
</div>
<a id="adf463be6bae38afa96d325a0a0bcae5c" name="adf463be6bae38afa96d325a0a0bcae5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf463be6bae38afa96d325a0a0bcae5c">&#9670;&#160;</a></span>magnetic_get_modeled_signal_coil()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real (rprec) function, dimension(4) magnetic::magnetic_get_modeled_signal_coil </td>
          <td>(</td>
          <td class="paramtype">type (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class (<a class="el" href="structmodel_1_1model__class.html">model_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>a_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (rprec), dimension(4), intent(out)&#160;</td>
          <td class="paramname"><em>sigma</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the coil modeled signal. </p>
<p>The plasma signal is the volume integral of the current denisty dotted with the diagnostic response function vector. The response_function contains a rz grid of reponce function vectors. These grid points are then interpolated into the equilibrium grid positions for a single toroidal plane. Hishman et. al. Phys. Plasmas 11, 595 (2004); doi: 10.1063/1.1637347</p>
<p>phi = Int[dV J_plasma * A_diag]</p>
<p>J_plasma and dV are obtained from the <a class="el" href="namespaceequilibrium.html">equilibrium</a>. A_diag is obtained from the <a class="el" href="namespacemagnetic__response.html">magnetic_response</a> External current contribrutions are included by the dot product of the external currents with mutual inductance values. These currents are obtained from <a class="el" href="namespaceequilibrium.html">equilibrium</a> if they exist. The plasma only signal is stored in the 2nd index. The external current signal is stored in the 3rd index. Total signal is the sum of plasma signal and external signal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>A <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> instance. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">a_model</td><td>A <a class="el" href="namespacemodel.html">model</a> instance. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sigma</td><td>The modeled sigma. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The model value. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>FIXME: For a single diagnostic these never change. Allocate these once and cache these in the <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> object. </dd></dl>

</div>
</div>
<a id="a7e2ec298bb1b6eed9875fc7cb944b429" name="a7e2ec298bb1b6eed9875fc7cb944b429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e2ec298bb1b6eed9875fc7cb944b429">&#9670;&#160;</a></span>magnetic_get_modeled_signal_coil_pickup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real (rprec) function magnetic::magnetic_get_modeled_signal_coil_pickup </td>
          <td>(</td>
          <td class="paramtype">type (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class (<a class="el" href="structmodel_1_1model__class.html">model_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>a_model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the model signal contribution from the external coils. </p>
<p>Return the protion of the modeled signal for the induced pickup of the external coils. If no external coils exist or the induced current is not used this returns zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>A <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> instance. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">a_model</td><td>A <a class="el" href="namespacemodel.html">model</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modeled signal from the induced coils. </dd></dl>

</div>
</div>
<a id="a6afde045b078bf8c5a3230ecf9b9ccce" name="a6afde045b078bf8c5a3230ecf9b9ccce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afde045b078bf8c5a3230ecf9b9ccce">&#9670;&#160;</a></span>magnetic_get_modeled_signal_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real (rprec) function, dimension(4) magnetic::magnetic_get_modeled_signal_point </td>
          <td>(</td>
          <td class="paramtype">type (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class (<a class="el" href="structmodel_1_1model__class.html">model_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>a_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (rprec), dimension(4), intent(out)&#160;</td>
          <td class="paramname"><em>sigma</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the point modeled signal. </p>
<p>The plasma signal is the surface integral of the virtual current denisty. This is computed using the virtual casing routines in LIBSTELL. External current contribrutions are included by the dot product of the external currents with a linear combination of the external fields. The plasma only signal is stored in the 2nd index. The external current signal is stored in the 3rd index. Total signal is the sum of plasma signal and external signal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>A <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> instance. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">a_model</td><td>A <a class="el" href="namespacemodel.html">model</a> instance. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sigma</td><td>The modeled sigma. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The model value. </dd></dl>

</div>
</div>
<a id="ae0292ac383a7c465f2d946c13361f901" name="ae0292ac383a7c465f2d946c13361f901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0292ac383a7c465f2d946c13361f901">&#9670;&#160;</a></span>magnetic_get_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">character (len=<a class="el" href="namespacedata__parameters.html#a5af930b6b7d6148f98708d2b522eba76">data_name_length</a>) function magnetic::magnetic_get_type </td>
          <td>(</td>
          <td class="paramtype">class (<a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a>), intent(in)&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a discription of the magnetic type. </p>
<p>Returns a description of the magnetic type for use when writting output files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>A <a class="el" href="structmagnetic_1_1magnetic__class.html">magnetic_class</a> instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string describing the magnetic type. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemagnetic.html">magnetic</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
